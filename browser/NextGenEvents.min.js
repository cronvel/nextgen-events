(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.NextGenEvents=e()}})(function(){var e,t,n;return function r(e,t,n){function i(o,a){if(!t[o]){if(!e[o]){var c=typeof require=="function"&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(t){var n=e[o][1][t];return i(n?n:t)},f,f.exports,r,e,t,n)}return t[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,n){"use strict";function r(){return Object.create(r.prototype)}t.exports=r;r.SYNC=-Infinity;r.init=function s(){Object.defineProperty(this,"__ngev",{configurable:true,value:{nice:r.SYNC,interruptible:false,recursion:0,contexts:{},once:{},events:{error:[],interrupt:[],newListener:[],removeListener:[]}}})};r.filterOutCallback=function(e,t){return e!==t};r.prototype.addListener=function o(e,t,n){var i={},s;if(!this.__ngev){r.init.call(this)}if(!this.__ngev.events[e]){this.__ngev.events[e]=[]}if(!e||typeof e!=="string"){throw new TypeError(".addListener(): argument #0 should be a non-empty string")}if(typeof t!=="function"){n=t;t=undefined}if(!n||typeof n!=="object"){n={}}i.fn=t||n.fn;i.id=n.id!==undefined?n.id:i.fn;i.once=!!n.once;i.async=!!n.async;i.eventObject=!!n.eventObject;i.nice=n.nice!==undefined?Math.floor(n.nice):r.SYNC;i.context=typeof n.context==="string"?n.context:null;if(typeof i.fn!=="function"){throw new TypeError(".addListener(): a function or an object with a 'fn' property which value is a function should be provided")}if(i.context&&typeof i.context==="string"&&!this.__ngev.contexts[i.context]){this.addListenerContext(i.context)}i.event=e;if(this.__ngev.events.newListener.length){s=this.__ngev.events.newListener.slice();this.__ngev.events[e].push(i);r.emitEvent({emitter:this,name:"newListener",args:[[i]],listeners:s});if(this.__ngev.once[e]){r.emitToOneListener(this.__ngev.once[e],i)}return this}this.__ngev.events[e].push(i);if(this.__ngev.once[e]){r.emitToOneListener(this.__ngev.once[e],i)}return this};r.prototype.on=r.prototype.addListener;r.prototype.once=function a(e,t,n){if(t&&typeof t==="object"){t.once=true}else if(n&&typeof n==="object"){n.once=true}else{n={once:true}}return this.addListener(e,t,n)};r.prototype.removeListener=function c(e,t){var n,i,s=[],o=[];if(!e||typeof e!=="string"){throw new TypeError(".removeListener(): argument #0 should be a non-empty string")}if(!this.__ngev){r.init.call(this)}if(!this.__ngev.events[e]){this.__ngev.events[e]=[]}i=this.__ngev.events[e].length;for(n=0;n<i;n++){if(this.__ngev.events[e][n].id===t){o.push(this.__ngev.events[e][n])}else{s.push(this.__ngev.events[e][n])}}this.__ngev.events[e]=s;if(o.length&&this.__ngev.events.removeListener.length){this.emit("removeListener",o)}return this};r.prototype.off=r.prototype.removeListener;r.prototype.removeAllListeners=function u(e){var t;if(!this.__ngev){r.init.call(this)}if(e){if(!e||typeof e!=="string"){throw new TypeError(".removeAllListener(): argument #0 should be undefined or a non-empty string")}if(!this.__ngev.events[e]){this.__ngev.events[e]=[]}t=this.__ngev.events[e];this.__ngev.events[e]=[];if(t.length&&this.__ngev.events.removeListener.length){this.emit("removeListener",t)}}else{this.__ngev.events={}}return this};r.listenerWrapper=function f(e,t,n){var i,s,o;if(t.interrupt){return}if(e.async){if(n){s=n.serial;n.ready=!s}o=function(n){t.listenersDone++;if(n&&t.emitter.__ngev.interruptible&&!t.interrupt&&t.name!=="interrupt"){t.interrupt=n;if(t.callback){t.callback(t.interrupt,t);delete t.callback}t.emitter.emit("interrupt",t.interrupt)}else if(t.listenersDone>=t.listeners.length&&t.callback){t.callback(undefined,t);delete t.callback}if(s){r.processQueue.call(t.emitter,e.context,true)}};if(e.eventObject){e.fn(t,o)}else{i=e.fn.apply(undefined,t.args.concat(o))}}else{if(e.eventObject){e.fn(t)}else{i=e.fn.apply(undefined,t.args)}t.listenersDone++}if(i&&t.emitter.__ngev.interruptible&&!t.interrupt&&t.name!=="interrupt"){t.interrupt=i;if(t.callback){t.callback(t.interrupt,t);delete t.callback}t.emitter.emit("interrupt",t.interrupt)}else if(t.listenersDone>=t.listeners.length&&t.callback){t.callback(undefined,t);delete t.callback}};var i=0;r.prototype.emit=function l(){var e;e={emitter:this};if(typeof arguments[0]==="number"){e.nice=Math.floor(arguments[0]);e.name=arguments[1];if(!e.name||typeof e.name!=="string"){throw new TypeError(".emit(): when argument #0 is a number, argument #1 should be a non-empty string")}if(typeof arguments[arguments.length-1]==="function"){e.callback=arguments[arguments.length-1];e.args=Array.prototype.slice.call(arguments,2,-1)}else{e.args=Array.prototype.slice.call(arguments,2)}}else{e.name=arguments[0];if(!e.name||typeof e.name!=="string"){throw new TypeError(".emit(): argument #0 should be an number or a non-empty string")}e.args=Array.prototype.slice.call(arguments,1);if(typeof arguments[arguments.length-1]==="function"){e.callback=arguments[arguments.length-1];e.args=Array.prototype.slice.call(arguments,1,-1)}else{e.args=Array.prototype.slice.call(arguments,1)}}return r.emitEvent(e)};r.prototype.emitOnce=function v(){var e;e={emitter:this,once:true};if(typeof arguments[0]==="number"){e.nice=Math.floor(arguments[0]);e.name=arguments[1];if(!e.name||typeof e.name!=="string"){throw new TypeError(".emit(): when argument #0 is a number, argument #1 should be a non-empty string")}if(typeof arguments[arguments.length-1]==="function"){e.callback=arguments[arguments.length-1];e.args=Array.prototype.slice.call(arguments,2,-1)}else{e.args=Array.prototype.slice.call(arguments,2)}}else{e.name=arguments[0];if(!e.name||typeof e.name!=="string"){throw new TypeError(".emit(): argument #0 should be an number or a non-empty string")}e.args=Array.prototype.slice.call(arguments,1);if(typeof arguments[arguments.length-1]==="function"){e.callback=arguments[arguments.length-1];e.args=Array.prototype.slice.call(arguments,1,-1)}else{e.args=Array.prototype.slice.call(arguments,1)}}return r.emitEvent(e)};r.emitEvent=function h(e){var t=e.emitter,n,s,o=0,a;if(!t.__ngev){r.init.call(t)}if(t.__ngev.once[e.name]){t.emit("error",new Error("One-time event '"+e.name+"' already emitted."));return}if(!t.__ngev.events[e.name]){t.__ngev.events[e.name]=[]}e.id=i++;e.listenersDone=0;e.once=!!e.once;if(e.nice===undefined||e.nice===null){e.nice=t.__ngev.nice}if(!e.listeners){e.listeners=t.__ngev.events[e.name].slice()}if(e.once){t.__ngev.once[e.name]=e}t.__ngev.recursion++;a=[];for(n=0,s=e.listeners.length;n<s;n++){o++;r.emitToOneListener(e,e.listeners[n],a)}t.__ngev.recursion--;if(a.length&&t.__ngev.events.removeListener.length){t.emit("removeListener",a)}if(!o){if(e.name==="error"){if(e.args[0]){throw e.args[0]}else{throw Error("Uncaught, unspecified 'error' event.")}}if(e.callback){e.callback(undefined,e);delete e.callback}}return e};r.emitToOneListener=function p(e,t,n){var i=e.emitter,s,o,a=false;s=t.context&&i.__ngev.contexts[t.context];if(s&&s.status===r.CONTEXT_DISABLED){return}if(s){o=Math.max(e.nice,t.nice,s.nice)}else{o=Math.max(e.nice,t.nice)}if(t.once){i.__ngev.events[e.name]=i.__ngev.events[e.name].filter(r.filterOutCallback.bind(undefined,t));if(n){n.push(t)}else{a=true}}if(s&&(s.status===r.CONTEXT_QUEUED||!s.ready)){s.queue.push({event:e,listener:t,nice:o})}else{try{if(o<0){if(i.__ngev.recursion>=-o){setImmediate(r.listenerWrapper.bind(i,t,e,s))}else{r.listenerWrapper.call(i,t,e,s)}}else{setTimeout(r.listenerWrapper.bind(i,t,e,s),o)}}catch(c){i.__ngev.recursion--;throw c}}if(a&&i.__ngev.events.removeListener.length){i.emit("removeListener",[t])}};r.prototype.listeners=function g(e){if(!e||typeof e!=="string"){throw new TypeError(".listeners(): argument #0 should be a non-empty string")}if(!this.__ngev){r.init.call(this)}if(!this.__ngev.events[e]){this.__ngev.events[e]=[]}return this.__ngev.events[e].slice()};r.listenerCount=function(e,t){if(!e||!(e instanceof r)){throw new TypeError(".listenerCount(): argument #0 should be an instance of NextGenEvents")}return e.listenerCount(t)};r.prototype.listenerCount=function(e){if(!e||typeof e!=="string"){throw new TypeError(".listenerCount(): argument #1 should be a non-empty string")}if(!this.__ngev){r.init.call(this)}if(!this.__ngev.events[e]){this.__ngev.events[e]=[]}return this.__ngev.events[e].length};r.prototype.setNice=function m(e){if(!this.__ngev){r.init.call(this)}this.__ngev.nice=Math.floor(+e||0)};r.prototype.setInterruptible=function d(e){if(!this.__ngev){r.init.call(this)}this.__ngev.interruptible=!!e};r.share=function(e,t){if(!(e instanceof r)||!(t instanceof r)){throw new TypeError("NextGenEvents.share() arguments should be instances of NextGenEvents")}if(!e.__ngev){r.init.call(e)}Object.defineProperty(t,"__ngev",{configurable:true,value:e.__ngev})};r.prototype.setMaxListeners=function(){};r.noop=function(){};r.groupEmit=function _(e){var t,n,i=2,s,o,a=e.length,c,u,f=false;if(typeof arguments[arguments.length-1]==="function"){s=-1;c=arguments[arguments.length-1];u=function(e){if(f){return}if(e){f=true;c(e)}else if(!--a){f=true;c()}}}if(typeof arguments[1]==="number"){i=3;n=typeof arguments[1]}t=arguments[i-1];o=Array.prototype.slice.call(arguments,i,s);e.forEach(function(e){r.emitEvent({emitter:e,name:t,args:o,callback:u})})};r.groupAddListener=function y(e,t,n,r){if(typeof n!=="function"){r=n;n=undefined}if(!r||typeof r!=="object"){r={}}n=n||r.fn;delete r.fn;r.id=r.id||n;e.forEach(function(e){e.addListener(t,n.bind(undefined,e),r)})};r.groupOn=r.groupAddListener;r.groupOnce=function b(e,t,n,r){if(n&&typeof n==="object"){n.once=true}else if(r&&typeof r==="object"){r.once=true}else{r={once:true}}return this.groupAddListener(e,t,n,r)};r.groupGlobalOnce=function x(e,t,n,i){var s,o=false;if(typeof n!=="function"){i=n;n=undefined}if(!i||typeof i!=="object"){i={}}n=n||i.fn;delete i.fn;i.id=i.id||n;s=function(){if(o){return}o=true;r.groupRemoveListener(e,t,i.id);n.apply(undefined,arguments)};e.forEach(function(e){e.once(t,s.bind(undefined,e),i)})};r.groupGlobalOnceAll=function E(e,t,n,r){var i,s=false,o=e.length;if(typeof n!=="function"){r=n;n=undefined}if(!r||typeof r!=="object"){r={}}n=n||r.fn;delete r.fn;r.id=r.id||n;i=function(){if(s){return}if(--o){return}s=true;n.apply(undefined,arguments)};e.forEach(function(e){e.once(t,i.bind(undefined,e),r)})};r.groupRemoveListener=function w(e,t,n){e.forEach(function(e){e.removeListener(t,n)})};r.groupOff=r.groupRemoveListener;r.CONTEXT_ENABLED=0;r.CONTEXT_DISABLED=1;r.CONTEXT_QUEUED=2;r.prototype.addListenerContext=function L(e,t){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".addListenerContext(): argument #0 should be a non-empty string")}if(!t||typeof t!=="object"){t={}}if(!this.__ngev.contexts[e]){this.__ngev.contexts[e]=Object.create(r.prototype);this.__ngev.contexts[e].nice=r.SYNC;this.__ngev.contexts[e].ready=true;this.__ngev.contexts[e].status=r.CONTEXT_ENABLED;this.__ngev.contexts[e].serial=false;this.__ngev.contexts[e].queue=[]}if(t.nice!==undefined){this.__ngev.contexts[e].nice=Math.floor(t.nice)}if(t.status!==undefined){this.__ngev.contexts[e].status=t.status}if(t.serial!==undefined){this.__ngev.contexts[e].serial=!!t.serial}return this};r.prototype.disableListenerContext=function k(e){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".disableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[e]){this.addListenerContext(e)}this.__ngev.contexts[e].status=r.CONTEXT_DISABLED;return this};r.prototype.enableListenerContext=function T(e){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".enableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[e]){this.addListenerContext(e)}this.__ngev.contexts[e].status=r.CONTEXT_ENABLED;if(this.__ngev.contexts[e].queue.length>0){r.processQueue.call(this,e)}return this};r.prototype.queueListenerContext=function O(e){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".queueListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[e]){this.addListenerContext(e)}this.__ngev.contexts[e].status=r.CONTEXT_QUEUED;return this};r.prototype.serializeListenerContext=function C(e,t){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".serializeListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[e]){this.addListenerContext(e)}this.__ngev.contexts[e].serial=t===undefined?true:!!t;return this};r.prototype.setListenerContextNice=function A(e,t){if(!this.__ngev){r.init.call(this)}if(!e||typeof e!=="string"){throw new TypeError(".setListenerContextNice(): argument #0 should be a non-empty string")}if(!this.__ngev.contexts[e]){this.addListenerContext(e)}this.__ngev.contexts[e].nice=Math.floor(t);return this};r.prototype.destroyListenerContext=function j(e){var t,n,i,s,o=[];if(!e||typeof e!=="string"){throw new TypeError(".disableListenerContext(): argument #0 should be a non-empty string")}if(!this.__ngev){r.init.call(this)}for(i in this.__ngev.events){s=null;n=this.__ngev.events[i].length;for(t=0;t<n;t++){if(this.__ngev.events[i][t].context===e){s=[];o.push(this.__ngev.events[i][t])}else if(s){s.push(this.__ngev.events[i][t])}}if(s){this.__ngev.events[i]=s}}if(this.__ngev.contexts[e]){delete this.__ngev.contexts[e]}if(o.length&&this.__ngev.events.removeListener.length){this.emit("removeListener",o)}return this};r.processQueue=function S(e,t){var n,i;if(!this.__ngev.contexts[e]){return}n=this.__ngev.contexts[e];if(t){n.ready=true}this.__ngev.recursion++;while(n.ready&&n.queue.length){i=n.queue.shift();if(i.event.interrupt){continue}try{if(i.nice<0){if(this.__ngev.recursion>=-i.nice){setImmediate(r.listenerWrapper.bind(this,i.listener,i.event,n))}else{r.listenerWrapper.call(this,i.listener,i.event,n)}}else{setTimeout(r.listenerWrapper.bind(this,i.listener,i.event,n),i.nice)}}catch(s){this.__ngev.recursion--;throw s}}this.__ngev.recursion--};r.on=r.prototype.on;r.once=r.prototype.once;r.off=r.prototype.off;r.Proxy=e("./Proxy.js")},{"./Proxy.js":2}],2:[function(e,t,n){"use strict";function r(){return r.create()}t.exports=r;var i=e("./NextGenEvents.js");var s="NextGenEvents/message";function o(){}r.create=function l(){var e=Object.create(r.prototype,{localServices:{value:{},enumerable:true},remoteServices:{value:{},enumerable:true},nextAckId:{value:1,writable:true,enumerable:true}});return e};r.prototype.addLocalService=function v(e,t,n){this.localServices[e]=a.create(this,e,t,n);return this.localServices[e]};r.prototype.addRemoteService=function h(e){this.remoteServices[e]=c.create(this,e);return this.remoteServices[e]};r.prototype.destroy=function p(){var e=this;Object.keys(this.localServices).forEach(function(t){e.localServices[t].destroy();delete e.localServices[t]});Object.keys(this.remoteServices).forEach(function(t){e.remoteServices[t].destroy();delete e.remoteServices[t]});this.receive=this.send=o};r.prototype.push=function g(e){if(e.__type!==s||!e.service||typeof e.service!=="string"||!e.event||typeof e.event!=="string"||!e.method){return}switch(e.method){case"event":return this.remoteServices[e.service]&&this.remoteServices[e.service].receiveEvent(e);case"ackEmit":return this.remoteServices[e.service]&&this.remoteServices[e.service].receiveAckEmit(e);case"emit":return this.localServices[e.service]&&this.localServices[e.service].receiveEmit(e);case"listen":return this.localServices[e.service]&&this.localServices[e.service].receiveListen(e);case"ignore":return this.localServices[e.service]&&this.localServices[e.service].receiveIgnore(e);case"ackEvent":return this.localServices[e.service]&&this.localServices[e.service].receiveAckEvent(e);default:return}};r.prototype.receive=function m(e){this.push(e)};r.prototype.send=function d(){throw new Error("The send() method of the Proxy MUST be extended/overwritten")};function a(e,t,n,r){return a.create(e,t,n,r)}r.LocalService=a;a.create=function _(e,t,n,r){var s=Object.create(a.prototype,{proxy:{value:e,enumerable:true},id:{value:t,enumerable:true},emitter:{value:n,writable:true,enumerable:true},internalEvents:{value:Object.create(i.prototype),writable:true,enumerable:true},events:{value:{},enumerable:true},canListen:{value:!!r.listen,writable:true,enumerable:true},canEmit:{value:!!r.emit,writable:true,enumerable:true},canAck:{value:!!r.ack,writable:true,enumerable:true},canRpc:{value:!!r.rpc,writable:true,enumerable:true},destroyed:{value:false,writable:true,enumerable:true}});return s};a.prototype.destroy=function y(){var e=this;Object.keys(this.events).forEach(function(t){e.emitter.off(t,e.events[t]);delete e.events[t]});this.emitter=null;this.destroyed=true};a.prototype.receiveEmit=function b(e){if(this.destroyed||!this.canEmit||e.ack&&!this.canAck){return}var t=this;var n={emitter:this.emitter,name:e.event,args:e.args||[]};if(e.ack){n.callback=function r(n){t.proxy.send({__type:s,service:t.id,method:"ackEmit",ack:e.ack,event:e.event,interruption:n})}}i.emitEvent(n)};a.prototype.receiveListen=function x(e){if(this.destroyed||!this.canListen||e.ack&&!this.canAck){return}if(e.ack){if(this.events[e.event]){if(this.events[e.event].ack){return}this.emitter.off(e.event,this.events[e.event])}this.events[e.event]=a.forwardWithAck.bind(this);this.events[e.event].ack=true;this.emitter.on(e.event,this.events[e.event],{eventObject:true,async:true})}else{if(this.events[e.event]){if(!this.events[e.event].ack){return}this.emitter.off(e.event,this.events[e.event])}this.events[e.event]=a.forward.bind(this);this.events[e.event].ack=false;this.emitter.on(e.event,this.events[e.event],{eventObject:true})}};a.prototype.receiveIgnore=function E(e){if(this.destroyed||!this.canListen){return}if(!this.events[e.event]){return}this.emitter.off(e.event,this.events[e.event]);this.events[e.event]=null};a.prototype.receiveAckEvent=function w(e){if(this.destroyed||!this.canListen||!this.canAck||!e.ack||!this.events[e.event]||!this.events[e.event].ack){return}this.internalEvents.emit("ack",e)};a.forward=function L(e){if(this.destroyed){return}this.proxy.send({__type:s,service:this.id,method:"event",event:e.name,args:e.args})};a.forward.ack=false;a.forwardWithAck=function k(e,t){if(this.destroyed){return}var n=this;if(!e.callback){this.proxy.send({__type:s,service:this.id,method:"event",event:e.name,args:e.args});t();return}var r=false;var i=this.proxy.nextAckId++;var o=function a(e){if(r||e.ack!==i){return}r=true;n.internalEvents.off("ack",a);t()};this.internalEvents.on("ack",o);this.proxy.send({__type:s,service:this.id,method:"event",event:e.name,ack:i,args:e.args})};a.forwardWithAck.ack=true;function c(e,t){return c.create(e,t)}r.RemoteService=c;var u=1;var f=2;c.create=function T(e,t){var n=Object.create(c.prototype,{proxy:{value:e,enumerable:true},id:{value:t,enumerable:true},emitter:{value:Object.create(i.prototype),writable:true,enumerable:true},internalEvents:{value:Object.create(i.prototype),writable:true,enumerable:true},events:{value:{},enumerable:true},destroyed:{value:false,writable:true,enumerable:true}});return n};c.prototype.destroy=function O(){var e=this;this.emitter.removeAllListeners();this.emitter=null;Object.keys(this.events).forEach(function(t){delete e.events[t]});this.destroyed=true};c.prototype.emit=function C(e){if(this.destroyed){return}var t=this,n,r,i,o;if(typeof e==="number"){throw new TypeError("Cannot emit with a nice value on a remote service")}if(typeof arguments[arguments.length-1]!=="function"){n=Array.prototype.slice.call(arguments,1);this.proxy.send({__type:s,service:this.id,method:"emit",event:e,args:n});return}n=Array.prototype.slice.call(arguments,1,-1);r=arguments[arguments.length-1];i=this.proxy.nextAckId++;o=false;var a=function c(e){if(o||e.ack!==i){return}o=true;t.internalEvents.off("ack",c);r(e.interruption)};this.internalEvents.on("ack",a);this.proxy.send({__type:s,service:this.id,method:"emit",ack:i,event:e,args:n})};c.prototype.addListener=function A(e,t,n){if(this.destroyed){return}if(typeof t!=="function"){n=t;t=undefined}if(!n||typeof n!=="object"){n={}}n.fn=t||n.fn;this.emitter.addListener(e,n);if(!this.emitter.__ngev.events[e]||!this.emitter.__ngev.events[e].length){return}if(n.async&&this.events[e]!==f){this.events[e]=f;this.proxy.send({__type:s,service:this.id,method:"listen",ack:true,event:e})}else if(!n.async&&!this.events[e]){this.events[e]=u;this.proxy.send({__type:s,service:this.id,method:"listen",event:e})}};c.prototype.on=c.prototype.addListener;c.prototype.once=i.prototype.once;c.prototype.removeListener=function j(e,t){if(this.destroyed){return}this.emitter.removeListener(e,t);if((!this.emitter.__ngev.events[e]||!this.emitter.__ngev.events[e].length)&&this.events[e]){this.events[e]=0;this.proxy.send({__type:s,service:this.id,method:"ignore",event:e})}};c.prototype.off=c.prototype.removeListener;c.prototype.receiveEvent=function S(e){var t=this;if(this.destroyed||!this.events[e.event]){return}var n={emitter:this.emitter,name:e.event,args:e.args||[]};if(e.ack){n.callback=function o(){t.proxy.send({__type:s,service:t.id,method:"ackEvent",ack:e.ack,event:e.event})}}i.emitEvent(n);var r=n.name;if(!this.emitter.__ngev.events[r]||!this.emitter.__ngev.events[r].length){this.events[r]=0;this.proxy.send({__type:s,service:this.id,method:"ignore",event:r})}};c.prototype.receiveAckEmit=function N(e){if(this.destroyed||!e.ack||this.events[e.event]!==f){return}this.internalEvents.emit("ack",e)}},{"./NextGenEvents.js":1}],3:[function(e,t,n){"use strict";if(typeof window.setImmediate!=="function"){window.setImmediate=function r(e){setTimeout(e,0)}}t.exports=e("./NextGenEvents.js");t.exports.isBrowser=true},{"./NextGenEvents.js":1}]},{},[3])(3)});